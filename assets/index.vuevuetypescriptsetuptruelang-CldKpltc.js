import{y as F,r as i,c as y,h as V,X as _,l as A,z as P,P as B,A as h}from"./vue-CLSBFK-B.js";const I=F({__name:"index",props:{startVal:{default:0},endVal:{},duration:{default:2e3},autoPlay:{type:Boolean,default:!0},decimalPlaces:{default:0},separator:{default:","},easing:{type:[String,Function],default:"easeOut"}},emits:["update:startVal"],setup(m,{emit:d}){const a=m,p=d,f={linear:e=>e,easeIn:e=>e*e,easeOut:e=>e*(2-e),easeInOut:e=>e<.5?2*e*e:-1+(4-2*e)*e},l=i(a.startVal),r=i(a.startVal),s=i(0);let n=null,o=0;const g=y(()=>{const t=l.value.toFixed(a.decimalPlaces).split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,a.separator),t.join(".")});function u(e){o||(o=e);const t=e-o;s.value=Math.min(t/a.duration,1);const v=typeof a.easing=="string"?f[a.easing](s.value):a.easing(s.value);l.value=r.value+(a.endVal-r.value)*v,s.value<1&&(n=requestAnimationFrame(u))}function c(){n&&cancelAnimationFrame(n),o=0,s.value=0,n=requestAnimationFrame(u)}return V(()=>{a.autoPlay&&c()}),_(()=>{n&&cancelAnimationFrame(n)}),A(()=>a.endVal,(e,t)=>{e!==t&&(r.value=t,p("update:startVal",t),c())}),(e,t)=>(h(),P("span",null,B(g.value),1))}});export{I as _};
