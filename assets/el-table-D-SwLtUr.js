/* empty css             *//* empty css                   *//* empty css                 *//* empty css                     */import{G as X,B as Y,C as Z,H as ee,I as ae,J as le,s as te,K as ne,t as oe,A as re,L as ie,M as se,N as de,O as me,P as ue,Q as ce,R as pe,S as ge,T as fe,l as _e,a as C}from"./element-DBeAxFu9.js";import{y as he,r as g,k as I,al as ve,z as be,A as xe,B as u,R as a,J as t,u as h,O as c,P as ye}from"./vue-CLSBFK-B.js";import{_ as Te}from"./index-DftMtz74.js";const we={class:"app-container"},Ve={class:"alert-container"},Ce={class:"table-container"},Ee={class:"toolbar-wrapper"},ke={class:"search-content"},De={class:"tool-content"},ze={class:"table-wrapper"},Se={class:"pager-wrapper"},Be={class:"dialog-footer"},Ie=he({__name:"el-table",setup($e){const o=g([{id:1,name:"李明上",gender:"男",age:25,phone:"13800138001",email:"liming@example.com",address:"上海市浦东新区张江集电路123号",createTime:"2023-07-15 14:23:45"},{id:2,name:"张伟",gender:"男",age:30,phone:"13900139001",email:"zhangwei@example.com",address:"北京市海淀区中关村大街10号",createTime:"2022-03-08 09:12:33"},{id:3,name:"王芳嗄",gender:"女",age:28,phone:"13700137001",email:"wangfang@example.com",address:"广州市天河区黄埔大道西100号",createTime:"2024-01-20 18:45:22"},{id:4,name:"赵强",gender:"男",age:35,phone:"13600136001",email:"zhaoqiang@example.com",address:"深圳市南山区科技中一路2号",createTime:"2021-09-12 11:30:55"},{id:5,name:"孙丽",gender:"女",age:22,phone:"13500135001",email:"sunli@example.com",address:"成都市武侯区桐梓林北路35号",createTime:"2025-02-28 16:05:18"},{id:6,name:"周杰轮",gender:"男",age:29,phone:"13400134001",email:"zhoujie@example.com",address:"重庆市渝中区解放碑步行街8号",createTime:"2023-11-05 13:40:32"},{id:7,name:"吴敏",gender:"女",age:26,phone:"13300133001",email:"wumin@example.com",address:"杭州市西湖区文三路456号",createTime:"2024-08-17 08:15:09"},{id:8,name:"陈涛",gender:"男",age:32,phone:"13200132001",email:"chentao@example.com",address:"南京市鼓楼区中山北路9号",createTime:"2022-06-30 17:50:41"},{id:9,name:"刘洋",gender:"男",age:27,phone:"13100131001",email:"liuyang@example.com",address:"武汉市武昌区珞喻路1037号",createTime:"2021-04-14 10:25:37"},{id:10,name:"徐静",gender:"女",age:24,phone:"13000130001",email:"xujing@example.com",address:"西安市雁塔区科技路1号",createTime:"2025-05-09 15:35:27"},{id:11,name:"马超",gender:"男",age:31,phone:"12900129001",email:"machao@example.com",address:"青岛市市南区香港中路62号",createTime:"2023-02-18 12:05:44"},{id:12,name:"黄蓉",gender:"女",age:23,phone:"12800128001",email:"huangrong@example.com",address:"厦门市思明区鹭江道101号",createTime:"2024-10-03 14:55:12"},{id:13,name:"朱莉",gender:"女",age:25,phone:"12700127001",email:"zhuli@example.com",address:"长沙市岳麓区梅溪湖街道洋湖路1号",createTime:"2022-12-25 09:45:50"},{id:14,name:"何勇",gender:"男",age:33,phone:"12600126001",email:"heyong@example.com",address:"天津市和平区南京路75号",createTime:"2021-07-06 16:20:33"},{id:15,name:"郭静",gender:"女",age:29,phone:"12500125001",email:"guojing@example.com",address:"沈阳市和平区三好街12号",createTime:"2025-03-14 11:10:28"},{id:16,name:"梁山",gender:"男",age:27,phone:"12400124001",email:"liangshan@example.com",address:"大连市中山区人民路100号",createTime:"2023-09-22 13:30:17"},{id:17,name:"林涛",gender:"男",age:30,phone:"12300123001",email:"lintao@example.com",address:"青岛市崂山区海尔路178号",createTime:"2024-04-07 10:55:05"},{id:18,name:"程静",gender:"女",age:26,phone:"12200122001",email:"chengjing@example.com",address:"郑州市金水区东风路6号",createTime:"2022-08-19 15:25:49"},{id:19,name:"高其强",gender:"男",age:32,phone:"12100121001",email:"gaoqiang@example.com",address:"济南市历下区经十路11111号",createTime:"2025-06-30 17:05:36"},{id:20,name:"董丽其",gender:"女",age:28,phone:"12000120001",email:"dongli@example.com",address:"哈尔滨市南岗区红军街14号",createTime:"2021-11-11 12:40:22"}]),$=[...o.value];function q(l,e){return e.gender===l}const D=g([]),v=g(1),b=g(10),f=g(o.value.length);function p(){const l=(v.value-1)*b.value,e=l+b.value;D.value=o.value.slice(l,e)}p();function P(l){b.value=l,p()}function U(l){v.value=l,p()}const E=g([]);function M(l){E.value=l}function x(){const l=Math.ceil(f.value/b.value);v.value>l&&(v.value=l||1)}async function N(l){try{o.value=o.value.filter(e=>l!==e.id),f.value=o.value.length,p(),x()}catch(e){throw C.error("删除失败"),e}}function j(l){_e.confirm(`正在删除用户：${l.name}，确认删除？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{N(l.id).then(()=>{C.success("删除成功")})})}function F(){const l=E.value.map(e=>e.id);o.value=o.value.filter(e=>!l.includes(e.id)),f.value=o.value.length,E.value=[],p(),x(),C.success(`已删除${l.length}条数据`)}const y=g(!1),s=I({id:0,name:"",gender:"",age:0,phone:"",email:"",address:"",createTime:""}),O={id:[],name:[{required:!0,message:"用户名不能为空",trigger:"blur"},{min:2,max:10,message:"用户名长度需在2-10个字符",trigger:"blur"}],gender:[{required:!0,message:"请选择性别",trigger:"change"}],age:[{type:"number",required:!0,message:"年龄必须为18-100岁之间的数字",trigger:"blur",min:18,max:100}],phone:[{pattern:/^1[3-9]\d{9}$/,required:!0,message:"请输入有效的11位手机号码",trigger:"blur"}],email:[{type:"email",required:!0,message:"请输入有效的邮箱地址",trigger:["blur","change"]}],address:[{required:!0,message:"地址不能为空",trigger:"blur"},{min:5,max:50,message:"地址长度需在5-50个字符",trigger:"blur"}],createTime:[]},z=g();function R(l,e){Object.assign(s,JSON.parse(JSON.stringify(e))),y.value=!0}async function A(){try{await z.value.validate();const l=o.value.findIndex(e=>e.id===s.id);l!==-1&&(o.value[l]={...s},p(),x(),C.success("修改成功"),y.value=!1)}catch{}}const r=I({username:"",usergender:"",usercreatedtime:null});function J(){const{username:l,usergender:e,usercreatedtime:T}=r,w=o.value.filter(i=>{const _=l?i.name.includes(l):!0,V=e?i.gender===e:!0,k=T?new Date(i.createTime.substring(0,10))>T:!0;return _&&V&&k});o.value=w,f.value=o.value.length,p(),x()}function S(){r.username="",r.usergender="",r.usercreatedtime=null,o.value=$,f.value=o.value.length,p(),x()}return(l,e)=>{const T=X,w=Z,i=Y,_=ae,V=ee,k=le,d=te,B=re,m=ue,G=ce,H=ve("el-table",!0),K=pe,L=ge,Q=fe;return xe(),be("div",we,[u("div",Ve,[a(T,{title:"数据来源",type:"success",description:"本表格使用element-plus制作，数据不具备真实性，仅供简单的 CRUD 操作演示","show-icon":""})]),u("div",Ce,[u("div",Ee,[u("div",ke,[a(B,{inline:!0,model:r,class:"custom-form"},{default:t(()=>[a(i,{label:"用户名",class:"custom-form-item"},{default:t(()=>[a(w,{modelValue:r.username,"onUpdate:modelValue":e[0]||(e[0]=n=>r.username=n),placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1}),a(i,{label:"性别",class:"custom-form-item"},{default:t(()=>[a(V,{modelValue:r.usergender,"onUpdate:modelValue":e[1]||(e[1]=n=>r.usergender=n),placeholder:"请选择",clearable:""},{default:t(()=>[a(_,{label:"男",value:"男"}),a(_,{label:"女",value:"女"})]),_:1},8,["modelValue"])]),_:1}),a(i,{label:"创建时间",class:"custom-form-item"},{default:t(()=>[a(k,{modelValue:r.usercreatedtime,"onUpdate:modelValue":e[2]||(e[2]=n=>r.usercreatedtime=n),type:"date",placeholder:"请选择时间",clearable:""},null,8,["modelValue"])]),_:1}),a(i,{class:"custom-form-item"},{default:t(()=>[a(d,{type:"primary",icon:h(ne),onClick:J},{default:t(()=>[...e[10]||(e[10]=[c(" 查询 ",-1)])]),_:1},8,["icon"]),a(d,{icon:h(oe),onClick:S},{default:t(()=>[...e[11]||(e[11]=[c(" 重置 ",-1)])]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"])]),u("div",De,[u("div",null,[a(d,{type:"primary",icon:h(ie),class:"item-left"},{default:t(()=>[...e[12]||(e[12]=[c(" 新增用户 ",-1)])]),_:1},8,["icon"]),a(d,{type:"danger",icon:h(se),class:"item-left",onClick:e[3]||(e[3]=n=>F())},{default:t(()=>[...e[13]||(e[13]=[c(" 批量删除 ",-1)])]),_:1},8,["icon"])]),u("div",null,[a(d,{type:"primary",icon:h(de),circle:""},null,8,["icon"]),a(d,{type:"primary",icon:h(me),circle:"",class:"item-right",onClick:e[4]||(e[4]=n=>S())},null,8,["icon"])])])]),u("div",ze,[a(H,{data:D.value,"default-sort":{prop:"id",order:"ascending"},"max-height":"800",style:{width:"97%"},class:"custom-table",onSelectionChange:M},{default:t(()=>[a(m,{type:"selection",width:"55"}),a(m,{prop:"id",label:"编号",width:"100",fixed:"",sortable:""}),a(m,{prop:"name",label:"用户名",width:"100"}),a(m,{prop:"gender",label:"性别",width:"100",filters:[{text:"男",value:"男"},{text:"女",value:"女"}],"filter-method":q},{default:t(n=>[a(G,{type:n.row.gender==="男"?"primary":"success","disable-transitions":""},{default:t(()=>[c(ye(n.row.gender),1)]),_:2},1032,["type"])]),_:1}),a(m,{prop:"age",label:"年龄",width:"100",sortable:""}),a(m,{prop:"phone",label:"手机号",width:"200"}),a(m,{prop:"email",label:"邮箱",width:"280"}),a(m,{prop:"address",label:"地址",width:"300"}),a(m,{prop:"createTime",label:"创建时间",width:"200"}),a(m,{label:"操作",fixed:"right",width:"150"},{default:t(n=>[a(d,{size:"small",type:"primary",onClick:W=>R(n.$index,n.row)},{default:t(()=>[...e[14]||(e[14]=[c(" 编辑 ",-1)])]),_:2},1032,["onClick"]),a(d,{size:"small",type:"danger",onClick:W=>j(n.row)},{default:t(()=>[...e[15]||(e[15]=[c(" 删除 ",-1)])]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),u("div",Se,[a(K,{background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,50,100],total:f.value,"current-page":v.value,"page-size":b.value,onSizeChange:P,onCurrentChange:U},null,8,["total","current-page","page-size"])])]),a(Q,{modelValue:y.value,"onUpdate:modelValue":e[9]||(e[9]=n=>y.value=n),title:"编辑用户",width:"500px"},{footer:t(()=>[u("div",Be,[a(d,{onClick:e[8]||(e[8]=n=>y.value=!1)},{default:t(()=>[...e[16]||(e[16]=[c(" 取消 ",-1)])]),_:1}),a(d,{type:"primary",onClick:A},{default:t(()=>[...e[17]||(e[17]=[c(" 保存 ",-1)])]),_:1})])]),default:t(()=>[a(B,{model:s,rules:O,ref_key:"editFormRef",ref:z,"label-width":"80px"},{default:t(()=>[a(i,{label:"用户名",prop:"name"},{default:t(()=>[a(w,{modelValue:s.name,"onUpdate:modelValue":e[5]||(e[5]=n=>s.name=n),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),a(i,{label:"性别",prop:"gender"},{default:t(()=>[a(V,{modelValue:s.gender,"onUpdate:modelValue":e[6]||(e[6]=n=>s.gender=n),placeholder:"请选择性别"},{default:t(()=>[a(_,{label:"男",value:"男"}),a(_,{label:"女",value:"女"})]),_:1},8,["modelValue"])]),_:1}),a(i,{label:"年龄",prop:"age"},{default:t(()=>[a(L,{modelValue:s.age,"onUpdate:modelValue":e[7]||(e[7]=n=>s.age=n),min:18,max:100,placeholder:"请输入年龄"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),Oe=Te(Ie,[["__scopeId","data-v-369e9744"]]);export{Oe as default};
